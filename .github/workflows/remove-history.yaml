# Delete Commit History
# Only keep the active/current commit

name: delete-commit-history

on:
  workflow_dispatch:  # Manual triggering
  #schedule:
  #  - cron: "0 1 * * *" 

jobs:
  cleanup:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        path: gh-pages
        fetch-depth: 0 # Fetch entire history
    - name: Git Log
      #run: git log --oneline --graph --decorate
      run: git log -1 --pretty=%B
